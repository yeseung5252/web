<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶ë§ˆí¬</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207-02@1.0/LeeSeoyun.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
 <a href="index.html" class="home-button" title="í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°">
    ğŸ 
</a>
    <div class="page-content">
        <h1>ë‚˜ì˜ ë¶ë§ˆí¬</h1>

        <div class="product-list-container" id="bookmark-list-container">
            <p id="empty-message" style="text-align: center; margin-top: 50px; display: none;">
                ë¶ë§ˆí¬í•œ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤. CATEGORY í˜ì´ì§€ì—ì„œ ë§ˆìŒì— ë“œëŠ” ìƒí’ˆì„ í•˜íŠ¸ë¡œ í‘œì‹œí•´ ë³´ì„¸ìš”!
            </p>
        </div>
    </div>

    <script>
        // ---------------------------------------------
        // 1. ìƒí’ˆ ë°ì´í„° ì •ì˜ (category.htmlê³¼ ë™ì¼í•´ì•¼ í•¨)
        // ---------------------------------------------
        const products = [
            { id: 1, name: "í˜¸ë³´ë‹ˆì¹˜ í…Œìµ¸ ë‹¤ì´ì–´ë¦¬", category: "diary", price: 45400, img: "prod-1.jpg", link:"https://smartstore.naver.com/_bestpen/products/12338987905?nl-query=%ED%98%B8%EB%B3%B4%EB%8B%88%EC%B9%98+2026&nl-ts-pid=jgw0VlqX6IdssfVc9f0-420469&NaPm=ct%3Dmj30v9r4%7Cci%3D7a4ddc04d76cc5a9dbcc00c9b3c5eaebb274ff25%7Ctr%3Dimg%7Csn%3D457624%7Chk%3D7bd37faf06f06779dcbcc41570addf0d41ae28f1" },
            { id: 2, name: "í•‘ë£¨ ë”¸ê¸°ì´ˆì½” ìŠ¤í‹°ì»¤íŒ©", category: "sticker", price: 8000, img: "prod-2.jpg", link:"http://www.10x10.co.kr/shopping/category_prd.asp?itemid=6779971" },
            { id: 3, name: "ì–´ë²„ë¸”í¬ëŸ¬ì‰¬ A7 6ê³µ ë°”ì¸ë”", category: "binder", price: 20000, img: "prod-3.jpg", link:"https://smartstore.naver.com/sosorowa/products/11877022826" },
            { id: 4, name: "ë„ë¡±ìƒì  ìŒí‘œ ì ¤ë¦¬ MT", category: "tape", price: 4000, img: "prod-4.jpg", link:"https://smartstore.naver.com/dorong_ham/products/10490896026" },
            { id: 5, name: "ì§€êµ¬ì¹¨ëµ ì´ˆì½”ë°”ë‚˜ë‚˜ ëª¨ì¡°ì§€", category: "modoji", price: 3000, img: "prod-5.jpg", link:"https://smartstore.naver.com/chuplay/products/11549780555" },
            { id: 6, name: "ì œí‚¤ë² ì–´ íŒ¨í„´ë³„ í‚¤ìŠ¤ì»·", category: "kisscut", price: 6000, img: "prod-6.jpg", link:"https://smartstore.naver.com/helloplay/products/11958162205" },
            { id: 7, name: "í˜ì´ì ¬ ë‹¤ì´ì–´ë¦¬", category: "diary", price: 21900, img: "prod-7.jpg", link:"https://www.coupang.com/vp/products/8405289397?itemId=24299267108&vendorItemId=91315257515&src=1032001&spec=10305199&addtag=400&ctag=8405289397&lptag=I24299267108&itime=20251213002925&pageType=PRODUCT&pageValue=8405289397&wPcid=17552633397573116103713&wRef=cr.shopping.naver.com&wTime=20251213002925&redirect=landing&mcid=b92706fd02d14de3a9117b355a300936&n_keyword=&n_ad_group=&n_ad=&n_ad=&n_rank=&n_keyword_id=&n_media=&n_campaign_type=&n_query=" },
            { id: 8, name: "B6 ë‹¤ì´ì–´ë¦¬ PVC ì»¤ë²„", category: "cover", price: 1500, img: "prod-8.jpg", link:"http://www.10x10.co.kr/shopping/category_prd.asp?itemid=6438417" },
            { id: 9, name: "ë„ë¯¸ì›”ë“œ ë¬´ê´‘ì¹¼ì„ ìŠ¤í‹°ì»¤", category: "sticker", price: 5500, img: "prod-9.jpg", link:"https://smartstore.naver.com/dudumoon/products/7624754781?nl-query=%EB%8F%84%EB%AF%B8%EC%9B%94%EB%93%9C+%EC%8A%A4%ED%8B%B0%EC%BB%A4&nl-ts-pid=jgw3EwqX6IdssfVb32C-357965&NaPm=ct%3Dmj31ba54%7Cci%3Ddfa20f8029496a7d24323f318ce0888025c992fd%7Ctr%3Dimg%7Csn%3D931564%7Chk%3Ddf1cf010bb96fff77bcb986361b5eb31d1fbb2cb" },
        ];

        const bookmarkContainer = document.getElementById('bookmark-list-container');
        const emptyMessage = document.getElementById('empty-message');

        // ---------------------------------------------
        // 2. HTML êµ¬ì¡° ìƒì„± í•¨ìˆ˜
        // ---------------------------------------------
        function createProductHtml(product) {
            // ë¶ë§ˆí¬ í˜ì´ì§€ì—ì„œëŠ” í•­ìƒ ê½‰ ì°¬ í•˜íŠ¸(ì œê±° ë²„íŠ¼)ë¡œ í‘œì‹œ
            const heartIcon = 'â™¥'; 
            const heartClass = 'bookmarked'; 

            return `
                <a href="${product.link}" target="_blank" class="product-link">
                    <div class="product-item">
                        <img src="${product.img}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <p class="price">${product.price.toLocaleString()}ì›</p>
                        
                        <span class="bookmark-icon ${heartClass}" 
                              data-product-id="${product.id}" 
                              data-action="remove">
                            ${heartIcon}
                        </span>
                    </div>
                </a>
            `;
        }

        // ---------------------------------------------
        // 3. ë¶ë§ˆí¬ ì œê±° ë¦¬ìŠ¤ë„ˆ ì—°ê²° í•¨ìˆ˜
        // ---------------------------------------------
        function attachRemoveListeners() {
            document.querySelectorAll('.bookmark-icon[data-action="remove"]').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.preventDefault();   
                    e.stopPropagation();  
                    
                    const productId = parseInt(icon.dataset.productId);
                    let bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');

                    // í•´ë‹¹ IDë¥¼ ëª©ë¡ì—ì„œ ì œê±°
                    bookmarks = bookmarks.filter(id => id !== productId);

                    localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
                    
                    // ëª©ë¡ì„ ë‹¤ì‹œ ë Œë”ë§í•˜ì—¬ ì œê±°ëœ ìƒí’ˆì´ ë°”ë¡œ ì‚¬ë¼ì§€ê²Œ í•¨
                    renderBookmarks(); 
                });
            });
        }
        
        // ---------------------------------------------
        // 4. ë¶ë§ˆí¬ ëª©ë¡ ë Œë”ë§ ë©”ì¸ ë¡œì§
        // ---------------------------------------------
        function renderBookmarks() {
            // 1. ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ë¶ë§ˆí¬ ID ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const bookmarkIds = JSON.parse(localStorage.getItem('bookmarks') || '[]');
            
            // 2. ì „ì²´ ìƒí’ˆ ëª©ë¡ì—ì„œ ë¶ë§ˆí¬ IDì™€ ì¼ì¹˜í•˜ëŠ” ìƒí’ˆë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.
            const bookmarkedProducts = products.filter(product => 
                bookmarkIds.includes(product.id)
            );
            
            // 3. ê²°ê³¼ í‘œì‹œ
            if (bookmarkedProducts.length === 0) {
                bookmarkContainer.innerHTML = '';
                emptyMessage.style.display = 'block'; // ë¹„ì—ˆì„ ë•Œ ë©”ì‹œì§€ í‘œì‹œ
            } else {
                emptyMessage.style.display = 'none'; // ë¹„ì§€ ì•Šì•˜ì„ ë•Œ ë©”ì‹œì§€ ìˆ¨ê¹€
                
                const productHtml = bookmarkedProducts.map(createProductHtml).join('');
                bookmarkContainer.innerHTML = productHtml;

                // ì œê±° ë²„íŠ¼ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
                attachRemoveListeners(); 
            }
        }

        // ---------------------------------------------
        // 5. í˜ì´ì§€ ë¡œë“œ ì‹œ ë¶ë§ˆí¬ ë Œë”ë§
        // ---------------------------------------------
        window.onload = renderBookmarks;
    </script>
</body>
</html>