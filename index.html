<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIARY ARCHIVE</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207-02@1.0/LeeSeoyun.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="overlay-sidebar">
        <div class="logo">DIARY<br>ARCHIVE</div>
        <nav class="main-menu">
            <a href="category.html">CATEGORY</a>
            <a href="bookmark.html">BOOKMARK</a>
            <a href="hot.html">HOT NOW</a>
        </nav>
        <nav class="about-us">
            <a href="about.html">ABOUT US</a>
        </nav>
    </div>

    <div class="content">
        <div class="image-slider" id="image-slider">
            <div class="slide" data-id="1">
                <img src="main-image-1.JPG" alt="ë‹¤ì´ì–´ë¦¬ ìƒí’ˆ ì´ë¯¸ì§€ 1" class="full-img">
            </div>
            <div class="slide" data-id="2">
                <img src="main-image-2.JPG" alt="ë‹¤ì´ì–´ë¦¬ ìƒí’ˆ ì´ë¯¸ì§€ 2" class="full-img">
            </div>
            <div class="slide" data-id="3">
                <img src="main-image-3.JPG" alt="ë‹¤ì´ì–´ë¦¬ ìƒí’ˆ ì´ë¯¸ì§€ 3" class="full-img">
            </div>
            <div class="slide" data-id="4">
                <img src="main-image-4.JPG" alt="ë‹¤ì´ì–´ë¦¬ ìƒí’ˆ ì´ë¯¸ì§€ 4" class="full-img">
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="prev-button" id="prev-button">â€¹</button>
        <button class="next-button" id="next-button">â€º</button>
    </div>

    <div class="icons">
        <a href="#" class="search-icon" id="search-icon">ğŸ”</a>
        <a href="#" class="menu-icon" id="menu-icon">â˜°</a> 
    </div>


    <div class="search-overlay" id="search-modal">
        <button class="close-search-button" id="close-search-button">X</button>
        <div class="search-content">
            <form>
                <input type="text" name="q" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ìŠ¤í‹°ì»¤, ë‹¤ì´ì–´ë¦¬)">
                <button type="submit">ê²€ìƒ‰</button>
            </form>
        </div>
    </div>

    <div class="main-menu-overlay" id="main-menu-overlay">
        <button class="close-main-menu-button" id="close-main-menu-button">X</button>
        <h2>MENU</h2>
        <nav class="full-menu">
            <a href="category.html">CATEGORY</a>
            <a href="bookmark.html">BOOKMARK</a>
            <a href="hot.html">HOT NOW</a>
            <a href="about.html">ABOUT US</a>
        </nav>
    </div>

    <script>
        // ==============================================
        // 1. ìŠ¬ë¼ì´ë” ê¸°ëŠ¥
        // ==============================================
        const slider = document.getElementById('image-slider');
        const slides = document.querySelectorAll('.slide');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        let currentSlide = 0;
        const totalSlides = slides.length;

        function goToSlide(index) {
            currentSlide = (index + totalSlides) % totalSlides;
            slider.style.transform = `translateY(-${currentSlide * 100}vh)`;
        }

        prevButton.addEventListener('click', () => {
            goToSlide(currentSlide - 1);
        });

        nextButton.addEventListener('click', () => {
            goToSlide(currentSlide + 1);
        });

        goToSlide(0); 


        // ==============================================
        // 2. ë©”ì¸ ë©”ë‰´ ì˜¤ë²„ë ˆì´ í† ê¸€ ê¸°ëŠ¥
        // ==============================================
        const menuIcon = document.getElementById('menu-icon');
        const mainMenuOverlay = document.getElementById('main-menu-overlay');
        const closeMainMenuButton = document.getElementById('close-main-menu-button');
        const searchModal = document.getElementById('search-modal'); // ê²€ìƒ‰ ëª¨ë‹¬ ë‹«ê¸°ìš©

        menuIcon.addEventListener('click', (e) => {
            e.preventDefault();
            mainMenuOverlay.classList.add('active');
        });

        closeMainMenuButton.addEventListener('click', () => {
            mainMenuOverlay.classList.remove('active');
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                mainMenuOverlay.classList.remove('active');
                searchModal.classList.remove('active');
            }
        });


        // ==============================================
        // 3. ê²€ìƒ‰ ì˜¤ë²„ë ˆì´ ê¸°ëŠ¥ ë° ê²€ìƒ‰ì–´ ì „ë‹¬
        // ==============================================
        const searchIcon = document.getElementById('search-icon');
        const closeSearchButton = document.getElementById('close-search-button');

        searchIcon.addEventListener('click', (e) => {
            e.preventDefault();
            searchModal.classList.add('active');
        });

        closeSearchButton.addEventListener('click', () => {
            searchModal.classList.remove('active');
        });

        // ê²€ìƒ‰ì–´ ì…ë ¥ í›„ category.htmlë¡œ ì´ë™ ë° ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì „ë‹¬
        document.querySelector('#search-modal form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const searchInput = document.querySelector('#search-modal input[name="q"]');
            const query = searchInput.value.trim();

            if (query) {
                // ê²€ìƒ‰ì–´ë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
                window.location.href = `category.html?search=${encodeURIComponent(query)}`;
            } else {
                alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            }
        });
    </script>
</body>
</html>